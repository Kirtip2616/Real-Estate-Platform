"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[47455],{13001:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(42788),o=n(37900),r=n(79181),i=n(60042);const c={name:"1phd9a0",styles:"object-fit:cover;"},a={name:"oe6cro",styles:"opacity:0;width:0;height:0;"},d={name:"1yvi9zz",styles:"filter:blur(4px);"},l={name:"b2rdmp",styles:"transition:filter 0.3s;object-fit:cover;"},placeholderStyle=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,s.css)("display:inline-block;",e?"background: #e3e3e3;":"","")},u=(0,s.css)("background-image:url(","//c.housingcdn.com/demand/s/client/common/assets/loader.fd27d2ce.svg",");background-color:#e3e3e3;background-size:100% 100%;"),g={name:"q7lffx",styles:"opacity:0;"};var f=n(90528),h=n(8444),p=n(38626);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const placeholderMap=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;switch(e){case"default":return placeholderStyle(!t);default:return u}},m={1:"smallest",38:"thumb",45:"_p",80:"_preview",90:"_s",120:"small",300:"medium",540:"large",870:"fs"},b=Object.keys(m);function getImageVersion(e){if(!e)return"medium";const{boundingClientRect:{width:t,height:n}}=e,s=function closest(e,t){let n,s=0,o=t.length-1;for(;o-s>1;)n=Math.floor((s+o)/2),t[n]<e?s=n:o=n;return t[o]}(Math.max(t,n),b);return m[s]}const isLoaded=e=>!!(e&&e.current&&e.current.complete),timer=(e,t)=>{const n=setTimeout(e,t);return()=>clearTimeout(n)},y=(0,o.forwardRef)(((e,t)=>{let{src:n,videoUrl:r,isBot:u,lazy:m=!0,loading:b=(m?"lazy":"eager"),fetchpriority:y=(m?"low":"auto"),style:v,version:x,onload:j=(()=>{}),onClick:w,index:k,placeHolderVersion:L="default",preload:_=!1,unsafeAccept:E,supportWebp:V=!0,imgArr:C,...O}=e;const T=n&&n.indexOf("base64")>=0,z="transition"===L,Z=!m&&!z||u||T;n=(0,p.Qw)(n);const[{onScreen:A,detectedVersion:I,secLoaded:M,loaded:R,startTransitioning:S},$]=(0,o.useState)({onScreen:!!Z,secLoaded:!(!u&&!T),loaded:!1,detectedVersion:"",startTransitioning:!z}),updateUiState=e=>{$((t=>{let n=!1;const s={...t};return Object.entries(e).forEach((e=>{let[o,r]=e;t[o]!==r&&(s[o]=r,n=!0)})),n?s:t}))},[B]=(0,i.Z)({rootMargin:"100px",onChange:e=>{A||updateUiState({onScreen:e.isIntersecting,detectedVersion:x?"":getImageVersion()})}}),N=(0,o.useRef)(),q=(0,o.useMemo)((()=>x||I||(Z?"medium":"")),[x,I,Z]);(0,o.useEffect)((()=>{if(!m&&(updateUiState({loaded:isLoaded(B),secLoaded:isLoaded(N),detectedVersion:x?"":getImageVersion()}),z))return timer((()=>updateUiState({startTransitioning:!0,secLoaded:isLoaded(N)})),50)}),[]),(0,o.useEffect)((()=>{j&&M&&j(M)}),[M]),(0,o.useEffect)((()=>{if(A&&m&&!Z)return timer((()=>$((e=>e.secLoaded?e:{...e,startTransitioning:!0,secLoaded:isLoaded(N)}))),50)}),[A]),V&&n&&!n.includes("/assets")&&!n.includes(".webp")&&n.includes("housingcdn.com")&&(u&&E&&E.includes("webp"),1)&&(n=n.replace(".jpg",".jpg.webp"),n=n.replace(".jpeg",".jpeg.webp"));let F,H=T&&n;if(n&&!T&&(H=n.replace("version",q),F=n.replace("version","_p")),(0,f.Z)({image:_&&!m&&H}),!n||!A&&m)return(0,s.jsx)("div",{className:"image image-placeholder",css:(0,s.css)([placeholderMap(L),v],""),ref:B,onClick:w},(0,s.jsx)("img",{alt:O.alt,style:{display:"none"}}));const P={className:"img",onClick:w,...O},Q=!u&&!T,U=A&&(z&&!M?a:[Q&&!z&&!M&&!Z&&g,M&&Q&&!Z&&(W=!z,(0,s.css)("object-fit:cover;animation:",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.keyframes`
  0% {
    ${e?"opacity: 0;":d}
  }
  100 % {
    ${e?"opacity: 1":"filter: blur(0px)"};
  }
`}(W)," 300ms linear;")),S&&!M&&placeholderMap(L,Z||!m),c,v]);var W;return(0,s.jsx)(o.Fragment,null,z&&!Z&&!M&&(0,s.jsx)("img",_extends({ref:B,css:(0,s.css)([S&&!R&&placeholderMap(L,Z),R&&d,S&&l,v],""),fetchpriority:y,loading:b,style:C?{height:`${C[k].height}px`}:{}},P,{onLoad:()=>{let e=document.createElement("img");e.src=H,e.onload=function(){const e=this.height,t=this.width;t&&e&&(R||updateUiState({loaded:!0}),j(k,t,e))},e.onerror=function(){},R||updateUiState({loaded:!0})},onError:e=>{R||updateUiState({loaded:!0}),j(k,1,1)},src:F})),A&&(0,s.jsx)("img",_extends({css:U},P,{ref:(0,h.Z)(N,t),decoding:"async",fetchpriority:y,style:C?{height:`${C[k].height}px`}:{},onLoad:e=>{let t=document.createElement("img");t.src=H,t.onload=function(){const e=this.height,t=this.width;t&&e&&(M||updateUiState({secLoaded:!0}),j(k,t,e))},t.onerror=function(){},M||updateUiState({secLoaded:!0})},onError:()=>{M||updateUiState({secLoaded:!0}),j(k,1,1)},src:H})))})),v=(0,r.Z)({props:e=>{let{shell:{useragent:{isBot:t},headers:{unsafeAccept:n}={}}}=e;return{isBot:t,unsafeAccept:n}},actions:{},options:{forwardRef:!0}})(y)}}]);