"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[81839],{98535:(e,t,n)=>{n.r(t)},99734:(e,t,n)=>{n.r(t)},52951:(e,t,n)=>{n.r(t)},31135:(e,t,n)=>{n.d(t,{$B:()=>Se,$F:()=>H,$d:()=>Y,$s:()=>E,A5:()=>xe,Aw:()=>R,BN:()=>g,CB:()=>K,Cd:()=>i,Cg:()=>l,D$:()=>ge,DD:()=>L,Dq:()=>w,F7:()=>h,FF:()=>X,FV:()=>fe,Fj:()=>ue,Fp:()=>Te,Fw:()=>ye,HF:()=>oe,HK:()=>me,Hb:()=>Q,Hc:()=>pe,I6:()=>D,It:()=>we,J4:()=>ve,JF:()=>Ce,JM:()=>Me,KS:()=>he,Kc:()=>de,LL:()=>N,Lu:()=>v,ND:()=>q,OE:()=>M,OW:()=>Re,Oq:()=>qe,Ov:()=>C,P9:()=>d,Q3:()=>Ee,Qh:()=>j,Rh:()=>T,S1:()=>ne,SL:()=>y,T8:()=>F,UO:()=>ke,VJ:()=>re,VQ:()=>ee,XA:()=>Pe,Xg:()=>p,Xt:()=>Be,aE:()=>Ie,aM:()=>_e,aj:()=>a,at:()=>We,az:()=>V,bj:()=>A,dW:()=>U,fm:()=>c,gA:()=>b,gT:()=>Ne,gU:()=>Oe,hH:()=>le,hb:()=>f,hs:()=>be,iG:()=>m,jI:()=>G,jV:()=>Ae,jn:()=>s,jo:()=>Z,kC:()=>ie,kw:()=>J,m6:()=>u,ml:()=>B,nj:()=>I,op:()=>r,pQ:()=>De,r0:()=>P,r7:()=>k,sJ:()=>je,u0:()=>W,uL:()=>te,vJ:()=>ce,w$:()=>S,x3:()=>se,x4:()=>$,xT:()=>Ue,yj:()=>ae,zA:()=>O,zB:()=>x,zR:()=>z});var _=n(96726),o=(n(22419),n(89801));const i="_vyeo28 T_3e347bc6",a="_vyeo28 _h3exct T_96030846",l="_llqslr _lkqslr _leqslr _loqslr _9s1txw _2drrk5 _fc1h6o _e2124j T_2d039cc9",c="_llgrho _lkgrho _legktf _lo1y44 _mkpfqs _2d1pec _e2mhvn T_05f6feca",r="_vy17n1 _e214no T_983758cd",s="_vyncxg _e2fyhu _5jftgi _c8dlk8 _csbfng _g3exct _2d1994 _3f1r0o T_f3779931",d="_gq183y T_a531adb9",f="_mkh2mm T_6fff7acb",g="_gq1nho _vy13pe T_1525ac82",u="_h3exct _gq19bv _h01wug _gz1wug _r31h6o T_8cd52b5f",h="_vydema _e2bqkf _jp1f51 T_af7fb3e3",m="_mkstnw _tk1tcg _fq1tcg T_f8e85dfe",p="_tkgrho _fq12gn _9s1txw _cx4j8e T_e50c3e67",y="_mkstnw _tk1wqb _9s1txw _ar1bp4 _0h1h6o _fqidpf _n3idpf _r31h6o T_8d595766",v="_vyt7u6 _e2umsy _jp1f51 T_11ceb352",w="_mkh2mm _r31h6o _vyuyc0 _e21z0s T_66243104",k="_gixjk4 T_667453de",b="_mkstnw _c8rdoj _csbfng _g31fwx _fr1ti3 _7l1pec _vy1osq _tkidpf _6iidpf _9s1txw _fc1h6o _0h1h6o T_49c2ef22",T="_h3yjp0 T_ac914500",x="_2d1qhq _9s1txw _0h1h6o _cxftgi _ll1fwx _5j1y44 _gq1tcg _9jtlke T_f2708d0e",q="_cx14y2 _ll14y2 _gqgrho T_15563a47",E="_2d1994 _vy1tcg _e21tcg _5j1y44 _9s1txw _0h1h6o _fc1h6o T_fc379d2b",j="_vyexct _e2exct T_cc60c694",C="_vyexct _e2exct T_7aef51aa",R="_vy1skh _e21skh T_d0390369",I="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7ls3je _19381fcq _1h3d1jbn _1sjy18ms _t8tx1o8l _1lidftgi _1n00s3je _pf1rftgi T_030b31b3",D="_c819bv _g31fwx _fr11np _1lid14y2 T_b725a252",N="_h3l52n _gqo7ao T_1291dbf7",B="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7ls3je _vyr3ty _gq1irw T_cf64ebb7",W="_mkstnw _9s1txw _fc1h6o _fqidpf _n3idpf T_d78dde9e",A="_vykz1e _e214e6 _5jexct _2dqaxa _7l1pec _9s1txw _cx1v6z _fc1h6o _0h1h6o T_32e812b1",M="_gixjk4 _h3l52n _gq19bv T_c697a6c3",U="_c819bv _csbfng _g31fwx _fr1ahb T_9305699e",S="_9s1txw _cx1y44 T_6906972a",P="_vyi2wt _e21skh _5jgktf _2d1v1a T_d61c4c46",O="_vy1fwx _e21fwx T_8d289f01",z="_vyexct _e2exct T_56d0c475",L="_c8dlk8 _cs161m _g3exct T_e0ee9a69",F="_c81skh _g31fwx T_ed05d9ac",G="_c81fwx _cs1nn1 _g3exct _fr1ti3 _gi1uoc _vy1wdt T_d90ed538",Z="_csbfng T_74a35890",H="_c8exct _cs1fw0 _g31fwx _gq1y44 _h3exct T_c22f138e",V="_h3gktf T_7a22258c",$="_2614wq _e2tudo _9s1txw _wqkb7n _6c1tcg _6a1tcg _1bu91if8 _94x8idpf _1p9o1h6o _cyex1h6o _1hkkgrho _18iugrho T_7fd16c9c",K="_vyxnrw _e2fhn8 _h3ftgi _gz1fwx _kbqmgrho _i8mpgrho T_fd7d3074",J="_9sglyw _ljud1o8l _ft8m1tcg _tcsk1tcg _ilfh1tcg T_48d6b64f",Y="_mkstnw _wqkb7n _9jtlke _tk14e6 _n310yn _vyexct _e2exct _ljudglyw _va5dglyw _lzn01buc _bof91jbn _1vbwgktf _lyjp1h6o _1ti01pec _1y0kexct T_5595a1b2",Q="_2drrk5 _l8zkwq _gqymf6 _iy2etb _l115zi _tawygrho _gdnq11n9 _17axbu42 _1vvt1wug T_fd3ebff5",X="_7019p1 _l8ftgi _5jftgi _tawygrho _gdnqi1uw T_88170767",ee="_261k4l T_2e9e0bbf",te="_261frw _h3exct _l8t94y _5jftgi T_a7d06ce4",ne="_261sf8 T_62464f82",_e="_261g59 _h3exct _l8t94y _5jftgi T_83f2bfa9",oe="_26g9o0 T_dfdfaaec",ie="_2634nm _h3exct _l8t94y _5jftgi T_9fe7707c",ae="_261a57 T_5e6917d6",le="_26j20g _h3exct _l8t94y _5jftgi T_918e2b0d",ce="_9s1txw _fc1yb4 _l8118z _r3usic _gdnqidpf T_52c2391c",re="_c8exct _csbfng _g3gktf _7l1ulh _gz1y44 T_fe5c0c05",se="_vhjp4b _c8dlk8 _cs1nn1 _g3exct _7l1ulh _vy7l9q _ks15vq _vv1q9c _sq1l2s _ft8m1edt T_7280c28e",de="_vy1vi7 _e21vi7 T_26512223",fe="_26rrk5 _5jftgi _l8ftgi _h3ftgi _kbqm1fwx T_dd5a2cdd",ge="_c81fwx _csbfng _g3exct _fr1ti3 _7ls3je _ks15vq _vv1q9c _sq1l2s T_f95d3c21",ue="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7l13vk _ks15vq _vv1q9c _sq1l2s T_0a5897eb",he="_c819bv _cs1nn1 _g31fwx _fr11np _7l9ke2 T_60ecf466",me="_2drrk5 _r31h6o _l89w0z _mk1n9t _6igrho _vy1osq _1bu91if8 _ft8m1wug T_52832e26",pe="_vy1osq _2d1994 _5jftgi _e2fyhu _c8dlk8 _csbfng _g3exct _3f1r0o _ft8meo28 T_b82ea3a1",ye="_vyqb8f T_ff853dfc",ve="_gqw1gv T_44fdeda7",we="_2d11x8 _ft8m1deq _1orfzr6s _94x8fyhu _17ax1bdc _tcskgrho T_89c9f2d0",ke="_17ax1bdc _1vvt15zi _biqgexct T_f100a887",be="_9s1o8l _gzftgi _r31e5h T_50be4aa8",Te="_h3exct _gqrdoj T_526d5269",xe="_2613wf _2c1kdv _sc1j28 _c8qslr _csbfng _g31f4h T_29f63642",qe="_c8dlk8 _csbfng _g3exct _7l9ke2 _gz1y44 _1q73f6fq _4okugktf _i8mp1v6z T_670850f4",Ee="_mkstnw _tk1yga _rd8stv _n31tcg _wqkb7n T_fcb78132",je="_mkpfqs _h31n2x _gzyh40 T_9a930f76",Ce="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7ls3je _9jtlke _9s1txw _vyfyhu _e21fwx _cx1y44 _vngi1q5b _1fxj1o8l _1occ1fwx _18nq1fwx _ft8m12am _tcskw1gv T_32269e9a",Re="_lldlk8 _lk1tcg _lerdoj _lopzf8 _6c1vi7 _6a1vi7 _kf4f10yn _huuc1ylp _18qt14no _1ll01a70 _tcsk1vci _ft8mckt8 _1hkkexct _18iuexct _y1nwexct _1hg0exct T_3bcc1b70",Ie="_r31h6o _gq1tcg _ll19bv _kf4fo7ao T_90b4f216",De="_c8f6fq _csbfng _g3gktf _7l1ulh _gqftgi T_09c4786b",Ne="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7l9ke2 _gqexct T_0c40ab3f",Be="_9s1o8l _vngi1dci T_65fb2d2c",We="_iy1ukp _l115zi _ll19bv _17ax1hsx _kf4fo7ao T_2d7b711a",Ae="_40eaux _leexct _gq1tcg T_99c292d7",Me="_9s1txw _fc1yb4 _gq1y44 _tawymyb0 T_c334aa98",Ue="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7ls3je T_c149b837",Se="_csbfng T_33fa562c",Pe="_c8exct _cs1nn1 _g3exct _fr1ti3 _7ls3je _9jtlke _1ll0ftgi T_ea5cbeb4",Oe="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7l9ke2 _ft8meo28 T_b36f1a9f";n(98535),(0,_.Z)(o.WP)},54076:(e,t,n)=>{n.d(t,{default:()=>T});var _=n(96726),o=n(15485),i=n(37900),a=n.n(i),l=n(91830),c=n(19094),r=n(79181),s=n(48124),d=n(27344),f=n(59723),g=n(35065),u=n(66777),h=n(22419),m=n(64529);const p=(0,h.styled)("div")({name:"ModalBgStyle",class:"T_82a3537f _tkidpf _fqidpf _mk1n9t _wq9cob _vy1osq _e21osq _2djo5o _aa1o1p8x m1ryp60l",vars:{"1gympwj":[e=>{let{bgzIndex:t}=e;return m.W5.z100+t}]},atomic:!0}),y=(0,h.styled)("div")({name:"ModalStyle",class:"T_82a3537f _vy1osq _e21osq _ks1wug _wqnmbj _mk1n9t _2du67f _w8mpidpf _18ib1ssb _94x81ssb _1orf1ooe _ft8m15fg _tcsk1int _1khjn7od m19kyrgs",vars:{"1dwxhh3":[e=>{let{bgzIndex:t}=e;return m.W5.z101+t}],"1r3jno1":[e=>{let{fullPageModal:t,modalWidth:n}=e;return t?"100%":n||"640px"}],zy3xmy:[e=>{let{fullPageModal:t}=e;return t?"100%":""}]},atomic:!0});function getSlideUpModalMobileStyleHeight(e){return{"--slideUp-modal-mobile-style-height":e||"auto","--slideUp-modal-mobile-style-max-height":e||"100%"}}const v=(0,h.styled)("div")({name:"CloseButtonStyle",class:"T_82a3537f _mkstnw _tko7ao _n3o7ao _wqkb7n _vygktf _e2gktf _9jtlke _94x83626 _16521h8b _va5dglyw _lzn01buc _bof91jbn _1y0kgktf _1vbwgktf _1ti0r3uz _lyjp1h6o _1qu2bl7g _an5syyem cxa56ko",vars:{d1a191:[e=>{let{fullPageModal:t}=e;return t?"18px":"0"}],al6gyc:[e=>{let{fullPageModal:t}=e;return t?"18px":"-40px"}],xk4b7l:[e=>{let{fullPageModal:t}=e;return t?"#000":"#fff"}]},atomic:!0});n(99734);const w={MODAL_IMPRESSION:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{modalName:n,source:_,isGAEvent:o}=t;return{category:"impression",action:`modal name: ${n}`,sendToGA:!!o,dimensions:{source:_}}},APP_DOWNLOAD_MODAL:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{userAction:n,device:_,utm_source:o,eventCategory:i,utm_medium:a}=t;return{category:i,action:n,dimensions:{device:_,extraData:{utm_medium:a||i,utm_source:o}}}}},k=(0,c.Z)((()=>n.e(94555).then(n.bind(n,80345))),{silent:!1,type:"local",container:"housing.demand",module:"common/components/Modal/v2/rewrite"});let b;const getModalElement=()=>(b||(b=document.getElementById("modal-root")),b),T=(0,r.Z)({props:e=>{let{modal:{openModals:t={}}={}}=e;return{openModals:t}},actions:{openModal:s.h,closeModal:s.M}})((e=>{let{modalName:t,modalType:n,fullPageModal:_,onClose:c,children:r,miniMobile:s,style:h,modalBackgroundStyle:m,closeIconStyle:b="",enableBrowserBack:T=!0,portal:x=!0,onExternalClose:q=c,preventBackgroundScroll:E=!0,slideUp:j,name:C="default",attachListener:R=(()=>!0),checkValidBack:I=(()=>!0),openModals:D,openModal:N,closeModal:B,v2:W=!1,bgzIndex:A=0,isHidden:M=!1,notShownTime:U,cascadeModalVisibilityOnClose:S,modalWidth:P,modalHeight:O}=e,z=(0,i.useRef)(null);const L=(0,i.useMemo)((()=>!t||!n||D[t]),[t,D,n]);E&&(0,d.Z)(L&&E);const F=(0,f.Z)(!M&&(c||q),{key:C,attachListener:R,checkValidBack:I,enableBrowserBack:!!L&&T,pushStateDep:[M,L]});(0,i.useEffect)((()=>{if(t&&n)return N({modalName:t,modalType:n,notShownTime:U,cascadeModalVisibilityOnClose:S}),()=>B({modalName:t})}),[]),(0,i.useEffect)((()=>{z&&z.current&&z.current.contains(document.activeElement)||z&&z.current&&z.current.focus()}),[z.current]);const G=(0,u.Z)(w);(0,i.useEffect)((()=>{L&&t&&G("MODAL_IMPRESSION",{modalName:t}),"appDownloadPopup"===t&&L&&G("APP_DOWNLOAD_MODAL",{userAction:"user_viewed",device:"mobile",eventCategory:"app_download_modal"})}),[t,L]);let Z=null;if(L&&(Z=W?a().createElement(k,{onClose:F,style:h},r):a().createElement("div",{"data-q":"modal",onClick:e=>{e.stopPropagation()}},a().createElement(p,{bgzIndex:A,className:(0,o.cx)(m,"modal-bg"),onClick:F||q}),a().createElement(y,{className:(0,o.cx)(s&&"_vy8tas _e21wug _j612am _iy8tas T_7c00caee",j&&"_tk1wug _fqidpf _6igrho _tr1fu5 _e21wug _iy1osq _0p1q1u _tcskn7od _17axn7od _jrvnn7od T_f30396f3",h),style:getSlideUpModalMobileStyleHeight(O),fullPageModal:_,bgzIndex:A,modalWidth:P,ref:z,tabIndex:"0"},c&&a().createElement(v,{className:(0,o.cx)(b,"close-btn"),fullPageModal:_,"data-q":"close-btn",onClick:F}),r))),(0,g.Z)("keyup",(e=>{27===e.keyCode&&c&&F()})),!x)return Z;const H=getModalElement();return H?(0,l.createPortal)(Z,H):null}));(0,_.Z)(getSlideUpModalMobileStyleHeight)},82762:(e,t,n)=>{n.d(t,{default:()=>N});var _=n(96726),o=n(37900),i=n.n(o),a=n(15485),l=n(16818);var c=n(4277),r=n(79181);const s={WINNER_BOARD_CLICK:(e,t)=>{const{pageTypeForGA:n}=t;return{category:"Rating_form",action:"winnerboard_clicked",label:n}}};var d=n(66777),f=n(8487);const g=f.P`
  query($profileUuid: String) {
    voucherWinningDetails(profileUuid: $profileUuid) {
      eligibleReviewsToWin
      totalGivenReviews
    }
  }
`,u=f.P`
  query($profileUuid: String) {
    winningUsersDetails(profileUuid: $profileUuid) {
      winnersData {
        reviewerName
        winningAmount
        entityName
        entityAddress
        postedAt
      }
      totalReviewers
    }
  }
`;var h=n(27303),m=n(54076),p=n(97572),y=n(19094),v=n(31135);n(22419);const w=(0,y.Z)((()=>n.e(93577).then(n.bind(n,2356))),{type:"local",container:"housing.demand",module:"common/components/Banner/WriteReview/mainComponents/BannerWithoutStates"}),k=(0,y.Z)((()=>n.e(74452).then(n.bind(n,44946))),{type:"local",container:"housing.demand",module:"common/components/Banner/WriteReview/mainComponents/BannerWithStates"}),b=(0,y.Z)((()=>n.e(40309).then(n.bind(n,26802))),{type:"local",container:"housing.demand",module:"common/components/Banner/WriteReview/mainComponents/DesktopBanner"}),T=(0,y.Z)((()=>n.e(24921).then(n.bind(n,32852))),{type:"local",container:"housing.demand",module:"common/components/Banner/WriteReview/reusableComponents/WinnerCard"}),x=(0,r.Z)({props:e=>{let{login:{id:t,profileUuid:n,attempted:_}={},meta:{voucherWinningDetails:o,winningUsersDetails:i}={}}=e;return{isLogin:!!t,voucherWinningDetails:_&&!t?null:o,winningUsersDetails:i,profileUuid:n,attempted:_}},actions:{fetchVoucherWinningDetails:e=>(t,n,_)=>{let{fetch:o}=_;const{profileUuid:i=""}=e||{};return o({apiName:"VOUCHER_WINNING_DETAILS_API",cacheType:"stale",query:{query:g,variables:JSON.stringify({profileUuid:i})}}).then((e=>{const{data:{data:{voucherWinningDetails:n={}}={}}={}}=e||{};t({type:"UPDATE_META_DATA",payload:{voucherWinningDetails:n}})})).catch((()=>{}))},fetchWinningUsersDetails:e=>(t,n,_)=>{let{fetch:o}=_;const{profileUuid:i=""}=e||{};return o({apiName:"WINNING_USERS_DETAILS_API",cacheType:"stale",query:{query:u,variables:JSON.stringify({profileUuid:i})}}).then((e=>{const{data:{data:{winningUsersDetails:n={}}={}}={}}=e||{};t({type:"UPDATE_META_DATA",payload:{winningUsersDetails:n}})})).catch((()=>{}))}}})((function VoucherBanner(e){let{onClick:t,mobileBannerInDesktop:n=!1,style:_,isLogin:r,fetchVoucherWinningDetails:f,fetchWinningUsersDetails:g,voucherWinningDetails:u,winningUsersDetails:{winnersData:y,totalReviewers:x}={},profileUuid:q,isV2:E,pageTypeForGA:j,ssr:C=!1}=e;const[R,I]=(0,o.useState)(!1),D=(0,o.useRef)(),N=(0,d.Z)(s);let B=null;const{eligibleReviewsToWin:W,totalGivenReviews:A}=u||{};let M=n;function openModal(){N("WINNER_BOARD_CLICK",{pageTypeForGA:j}),y?I(!0):g().then((()=>{I(!0)}))}function closeModal(){I(!1)}function getTotalGivenReviews(e,t){return t>e?t-e:t}return(0,o.useEffect)((()=>{q&&f({profileUuid:q})}),[q]),(0,o.useEffect)((()=>{D&&D.current&&(D.current.scrollTop=0)}),[D.current]),C||void 0!==u?(B=r&&0!==A?A<W||A>W&&A<2*W?M?i().createElement(k,{onReviewBtnClick:t,eligibleReviewsToWin:W,totalGivenReviews:getTotalGivenReviews(W,A),onWinnerBoardLinkClick:openModal,mobileBannerInDesktop:n}):i().createElement(b,{onReviewBtnClick:t,eligibleReviewsToWin:W,totalGivenReviews:getTotalGivenReviews(W,A),onWinnerBoardLinkClick:openModal,isWithState:!0,text:i().createElement("span",null,"You are"," ",i().createElement("b",null,W-getTotalGivenReviews(W,A)," ","more reviews")," ","away from winning this voucher"),isV2:E}):A===W?M?i().createElement(w,{text:"Double Up! Share 3 reviews for another win",onReviewBtnClick:t,isHelping:!1,onWinnerBoardLinkClick:openModal,mobileBannerInDesktop:n}):i().createElement(b,{text:"Double Up! Share 3 reviews for another win",onReviewBtnClick:t,isHelping:!1,onWinnerBoardLinkClick:openModal,isV2:E}):M?i().createElement(w,{text:"Add more reviews and help home seeker in finding a house",onReviewBtnClick:t,isHelping:!0,onWinnerBoardLinkClick:openModal,mobileBannerInDesktop:n}):i().createElement(b,{text:"Add more reviews and help home seeker in finding a house",onReviewBtnClick:t,isHelping:!0,onWinnerBoardLinkClick:openModal,isV2:E}):M?i().createElement(w,{text:"Write reviews on 3 or more projects/ localities",onReviewBtnClick:t,isHelping:!1,onWinnerBoardLinkClick:openModal,mobileBannerInDesktop:n,showFaqs:!0}):i().createElement(b,{text:"Write reviews on 3 or more projects/ localities",onReviewBtnClick:t,isHelping:!1,onWinnerBoardLinkClick:openModal,isV2:E,showFaqs:!0}),i().createElement("div",{className:(0,a.cx)(v.Cg,!n&&!E&&v.fm,_)},B,R&&i().createElement(m.default,{slideUp:!0,onClose:closeModal,closeIconStyle:v.kw,style:v.It},i().createElement("div",{className:v.UO},i().createElement("header",{className:v.x4},i().createElement(l.default,{style:v.CB,src:"//c.housingcdn.com/demand/s/client/common/assets/voucherWinnerCrown.53ecac35.svg"}),i().createElement("div",{onClick:closeModal,className:v.$d,"data-testid":"close-button"})),i().createElement("div",{className:v.Hb,ref:D,"data-testid":"modal-div"},y&&y.map(((e,t)=>i().createElement(T,{key:t,winnerData:e,theme:p.u[t%4]}))),!!(x-y.length)&&i().createElement("div",{className:v.Fp},i().createElement("span",{className:v.A5},"+ ",x-y.length),i().createElement("span",{className:v.Oq},x-y.length==1?"other user received their voucher":"other users received their vouchers"))),i().createElement("div",{className:v.HK},i().createElement(c.Z,{style:v.Hc,divBtn:!0,onClick:t},"Write Reviews & Win Now")))))):i().createElement(h.Z,{height:n?"282px":"120px"})}));(0,_.Z)(v.fm);var q=n(30301),E=n(29012),j=n(63762),C=n(48049),R=n(61418);var I=n(27113);const D=(0,y.Z)((()=>n.e(90327).then(n.bind(n,80455))),{type:"local",container:"housing.demand",module:"common/components/WriteReview/userCategoryModal"});function ReviewFlow(e){let{heading:t,titleForPageURl:n,mobileBannerInDesktop:_,profileUuid:a,markRendered:l=(()=>{}),ready:c=(()=>{}),render:r,isSequenced:s,index:f,style:g,writeReviewContainerStyle:u,address:h,linkedProjectId:m,linkedProjectName:p,listingId:y,pageTypeMajor:v,localityId:w,localityName:k,children:b,isOpenInNewTab:T,isBannerShow:R,city:N,locality:B,divBtn:W,isV2:A,userRatingDetails:M={},fetchUserRatingDetails:U,pageTypeForGA:S,ssr:P=!1}=e;const O=(0,d.Z)(q.Z),[z,L]=(0,o.useState)(!1),[F,G]=(0,o.useState)(!1);if((0,C.useHistory)(),(0,o.useEffect)((()=>{s&&c(f)}),[]),(0,o.useEffect)((()=>{s&&r&&l(f)}),[r]),s&&!r)return null;function handleBannerClick(){var e;if((null==b||null===(e=b.props)||void 0===e?void 0:e.onClick)&&b.props.onClick(),R||!b)return O("CLICKED_COUPON_BANNER",{profileUuid:a,pageTypeForGA:S}),void window.open(window.location.origin+"/review");const t=w||m||y,n=w?"poly":"region_entity_id";t&&!M.hasOwnProperty(t)?U(t,n).then((e=>{e?G(!0):L(!0)})):M[t]?G(!0):L(!0)}let Z;return Z=R||!b?i().createElement(x,{mobileBannerInDesktop:_,style:g,onClick:handleBannerClick,pageTypeMajor:v,divBtn:W,isV2:A,pageTypeForGA:S,ssr:P}):(0,o.cloneElement)(b,{onClick:handleBannerClick}),i().createElement("div",{className:u},i().createElement(E.default,{onEnter:function onEnter(){!R&&b||O("VIEWED_COUPON_BANNER",{profileUuid:a,pageTypeForGA:S})},wpKey:"newReviewBanner"},Z,z&&i().createElement(D,{heading:`${t}${B?`, ${B}`:""}${N?`, ${N}`:""}`,titleForPageURl:n,onClose:()=>{L(!1)},address:h,linkedProjectId:m,linkedProjectName:p,listingId:y,pageTypeMajor:v,localityId:w,localityName:k,isOpenInNewTab:T,isRedirectToCommonReviewPage:R||!b}),F&&i().createElement(j.default,{modalBackgroundStyle:I.It,onClose:()=>G(!1),v2:!0},i().createElement("div",{className:I.rK},i().createElement("h3",{className:I.a9},"Oops!"),i().createElement("h4",{className:I.rW},`You have already submitted ratings and review for this ${w?"locality":"project"}.`)))))}ReviewFlow.count=0;const N=(0,r.Z)({props:e=>{let{seo:{pageTypeMajor:t},meta:{userRatingDetails:n}={},login:{id:_}={}}=e;return{profileUuid:_||"",userRatingDetails:n}},actions:{fetchUserRatingDetails:R.k}})(ReviewFlow);(0,_.Z)(I.It)},27113:(e,t,n)=>{n.d(t,{C2:()=>d,It:()=>h,J5:()=>a,WT:()=>i,a9:()=>g,es:()=>s,kw:()=>r,rK:()=>f,rW:()=>u,sO:()=>l,xz:()=>c});var _=n(96726),o=(n(22419),n(89801));const i="_6cldb6 _6aldb6 _ft8m1gwv _tcskajgb _gdnq7by8 _1hkkgrho _18iugrho T_c392bde1",a="_gz1tcg _h01tcg _h310mc _bx1t02 _blass3je _au8vdlk8 _5vy21nn1 _1i76exct _1tp51y44 _1rtebfng _19hgexct _vc8kgktf _odzb15vq _16v01q9c _17u51l2s _i8mpgrho _8kgngrho _kbqmgrho T_e2628f5f",l="_3f1cfb _2d1pec _5jftgi _h0rdoj _gzgrho _c81fwx _csbfng _7l5yda _l81fwx _bx1t02 _g3exct _ljud1ule _ft8m1178 _tcskor1b _tawy1fwx _1ll0w1gv _18qtw1gv _kf4ff6fq _4okuexct T_b3e21ab7",c="_2d1qhq _7l1994 T_207c5a93",r="_9sglyw _ljud1o8l _ft8mdlk8 _tcskdlk8 _16521j0o _h05cdlk8 T_48d6b64f",s="_h3183y _gz1tcg _gq1vi7 _h01ul9 _l015zi _vv1q9c _e2ajfg _kbqm1tcg _i8mpgrho _tcskn7od _8kgngrho T_7dbc1969",d="_r31h6o T_be3acf2a",f="_l81tcg T_95121e6e",g="_csbfng _c8qslr _g31ou6 _7lyaip _gqftgi T_14dc212f",u="_c81fwx _g3exct _7l1ulh T_e7ec4f82",h="_wqjwwv _1cohgrho T_89c9f2d0";n(52951),(0,_.Z)(o.WP)},97572:(e,t,n)=>{n.d(t,{E:()=>o,u:()=>_});const _=["pink","yellow","green","blue"],o=[{que:"What happens after I submit a review?",ans:"The reviews that are submitted undergo through a process where we check the quality and authenticity. This process takes 4-5 days after which we either approve it or reject it."},{que:"How to ensure that review gets approved?",ans:"Be authentic and focus on sharing your experience with regard to the locality or society. Please donâ€™t copy text from other sources and avoid abusive/crude language."},{que:"When will I get the coupon?",ans:"Once 3 or more of your reviews are approved we will share the coupon with you. This might take 6-7 days."},{que:"Where will I get the voucher?",ans:"Please make sure your profile name, contact phone number and email ID are updated. We will email you the voucher details."},{que:"What kind of voucher will I get?",ans:"You get an Amazon/ Flipkart gift card voucher that you can use."},{que:"How to see the reviews that I wrote?",ans:"Once your review is approved by our team it will be visible under the reviews section of the project page or the locality page. You can also check 'My reviews' in the profile section."},{que:"Can I get more than one coupon?",ans:"Yes if you submit reviews and more than 6 of them are approved then we will share 2 vouchers worth 150rs each. The maximum a user can earn via reviewing is 300rs."}]},61418:(e,t,n)=>{n.d(t,{J:()=>fetchUserCategories,k:()=>fetchUserRatingDetails});var _=n(8487);const o=_.P`
  query($entityType: String!, $entityId: String!) {
    userRating(entityId: $entityId, entityType: $entityType) {
      isReviewAvailable
    }
  }
`,i=_.P`
  query {
    userCategories {
      name
      id
    }
  }
`,fetchUserCategories=()=>(e,t,n)=>{let{fetch:_}=n;return _({apiName:"USER_CATEGORIES",query:{query:i}}).then((t=>{let{data:{data:{userCategories:n=[]}={}}={}}=t;return e({type:"SET_REVIEW_DATA",payload:{userCategories:n}}),{userCategories:n}}))},fetchUserRatingDetails=(e,t)=>(n,_)=>{return n((i={entityId:e,entityType:t},(e,t,n)=>{let{fetch:_}=n;const{entityId:a,entityType:l}=i;return _({apiName:"USER_RATING_API",cacheType:"stale",query:{query:o,variables:JSON.stringify({entityId:a,entityType:l})}}).then((e=>{const{data:{data:{userRating:{isReviewAvailable:t}={}}={}}={}}=e||{};return t})).catch((()=>{}))})).then((t=>{const{meta:{userRatingDetails:o={}}={}}=_();return n({type:"UPDATE_META_DATA",payload:{userRatingDetails:{...o,[e]:t}}}),t}));var i}},30301:(e,t,n)=>{n.d(t,{Z:()=>_});const _={VIEWED_COUPON_BANNER:(e,t)=>{const{profileUuid:n,pageTypeForGA:_}=t;return{category:"Rating_form",action:"viewed_coupon_banner",label:_,dimensions:{profileUuid:n}}},CLICKED_COUPON_BANNER:(e,t)=>{const{profileUuid:n,pageTypeForGA:_}=t;return{category:"Rating_form",action:"clicked_coupon_banner",label:_,dimensions:{profileUuid:n}}},CLICKED_REVIEWER_TYPE:(e,t)=>({category:"RnR_form",action:"clicked_reviewer_type"})}}}]);