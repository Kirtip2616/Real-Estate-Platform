"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[96353,20490],{19184:(e,t,n)=>{n.r(t)},45809:(e,t,n)=>{n.d(t,{default:()=>u});var i=n(96726),a=n(15485),r=n(37900),l=n.n(r),s=n(10006),o=n.n(s),c=n(97512),_=n(54412),d=(n(22419),n(29792));function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const g=o()((()=>n.e(29269).then(n.bind(n,10966))),{type:"local",container:"housing.demand",module:"common/components/OverallRatings"}),y=o()((()=>n.e(13981).then(n.bind(n,28757))),{type:"local",container:"housing.demand",module:"common/components/CoachMark/rewrite/CoachMarkV2"}),p=o()((()=>n.e(47989).then(n.bind(n,63567))),{type:"local",container:"housing.demand",module:"common/components/Star"});const u=function ReviewHeading(e){let{handleToggleButtonClick:t,heading:n,subHeading:i,ratings:s,reviews:o,activeButtonIndex:u,isV2:v=!0,overrideHeadingContainerStyle:m}=e;const[h,f]=(0,r.useState)(!1),{avgRating:w}=s||{},[T,b]=(0,_.ZP)("isCoachMarkShown",{type:"localStorage"}),R=l().createElement("div",_extends({className:(0,a.cx)(!v&&d.ax,d.K8)},!v&&{style:{"--rating-reviews-transform":h?"rotate(90deg)":"rotate(-90deg)"}},{onClick:()=>{f(!h)},"data-testid":"rating-ui"}),l().createElement("div",{className:d.pl,style:{"--rating-container-height":v?"24px":"36px","--rating-container-padding":v?"5px":"8px 10px"}},l().createElement("div",{className:d.$A,style:{"--star-container-margin-top":v?"0px":"auto"}},l().createElement(p,{isViewOnly:!0,width:v?"11.67px":"14px",height:v?"11px":"14px",isSelected:!0,variant:"blue"})),l().createElement("span",{className:d.Rc,style:{"--avg-rating-font-size":v?"10.67px":"14px"}},Math.round(10*w)/10),l().createElement("span",{className:d.RJ,style:{"--total-rating-font-size":v?"10.67px":"14px"}},"/5")),h&&l().createElement(g,{ratings:s,style:(0,a.cx)(d.Ct,!v&&d.Am),reviews:o}));return l().createElement(l().Fragment,null,l().createElement("div",{className:(0,a.cx)(d.sV,d.TS,m)},l().createElement("div",null,l().createElement("h3",{className:d.J5},n),l().createElement("div",{className:d.x$},l().createElement("span",{className:d.Y4},i),v&&w&&R)),!v&&w&&R,v&&l().createElement("div",{className:d.Mb},["Project","Locality"].map(((e,n)=>l().createElement("div",{className:n===u?d.E0:d.aT,onClick:()=>{t(n)},"data-testid":"toggle-review-heading"},e))))),v&&!T&&l().createElement(y,null,l().createElement("h2",{className:d.A1},"Tips"),l().createElement("p",{className:d.Oj},"Now you can see Rating & Review in one place for both Project & Locality!"),l().createElement(c.Z,{style:d.y9,onClick:()=>{!function coachMarkClickHandler(){T||((0,_.LS)("isCoachMarkShown",!0),b(!0))}()}},"Done")))};(0,i.Z)(d.Am)},75769:(e,t,n)=>{n.d(t,{default:()=>k});var i=n(96726),a=n(15485),r=n(37900),l=n.n(r),s=n(29792),o=n(79181),c=n(89087),_=n(48234),d=n(25940),g=n(66777),y=n(1782),p=n(34851),u=n(10006),v=n.n(u),m=(n(22419),n(45809)),h=n(57351),f=n(16818),w=n(97512),T=n(48049);const b=function NoRating(e){let{buttonText:t,noReviewsText:n,reviewDedicatedUrl:i}=e;const a=(0,T.useHistory)();return l().createElement("div",{className:s.kP},l().createElement("div",{className:s.eR},l().createElement(f.default,{src:h,width:"222px",height:"143px"})),l().createElement("p",{className:s.oJ},n),l().createElement(w.Z,{style:s.jn,onClick:()=>a.push(i)},t))};(0,i.Z)(s.eR);var R=n(66494);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}v()((()=>Promise.all([n.e(87412),n.e(40672)]).then(n.bind(n,19309))),{type:"local",container:"housing.demand",module:"common/components/ShortList/rewrite"});const E=v()((()=>Promise.all([n.e(53883),n.e(64795),n.e(69509)]).then(n.bind(n,68139))),{type:"local",container:"housing.demand",module:"common/components/ReviewsAndRatings/desktop"}),x=v()((()=>Promise.all([n.e(53883),n.e(3545),n.e(81839),n.e(60991)]).then(n.bind(n,49420))),{type:"local",container:"housing.demand",module:"common/components/ReviewsAndRatings/ExpandedRatingAndReview"}),I=v()((()=>n.e(93325).then(n.bind(n,98613))),{silent:!1,type:"local",container:"housing.demand",module:"common/components/ShareModal/rewrite"}),k=(0,o.Z)({props:e=>{let{meta:{projectReviews:t,projectRatings:n,localityReviews:i,localityRatings:a}={},routeParams:{path:r}={},seo:{pageTypeMajor:l}={},filters:{service:s,category:o},propertyDetails:{details:c}={}}=e;const _=(0,y.Z)(s,o);return{projectRatings:n,projectReviews:t,localityReviews:i,localityRatings:a,path:r,pageTypeMajor:l,details:c,isBuyRent:["buy","rent"].includes(_),category:o}},actions:{fetchProjectRatings:d.Xm,fetchProjectReviews:d.Xw,fetchLocalityRatings:d.OM,fetchLocalityReviews:d.aZ}})((e=>{let{projectTitle:t,address:n,isSequenced:i,ready:o=(()=>{}),index:d,listingId:y,showAllCards:u=!1,linkedProjectId:v,linkedProjectName:h,linkedProjectUrl:f,render:w,id:T,showFooter:k,projectRatings:j,projectReviews:A,localityReviews:P,localityRatings:q,fetchProjectReviews:C,fetchProjectRatings:L,fetchLocalityRatings:N,fetchLocalityReviews:V,heading:O="Resident reviews for",isViewAllPage:D=!1,path:S,style:$,isLocalityOverview:U,pageTypeMajor:z,details:M,isBuyRent:W=!1,polygonId:B,localityName:Y,isLocalityReviewSupport:Z=!0,isProjectReviewSupport:G=!0,cityName:H,isRentPDP:J=!1,ssr:F=!1}=e;let Q=null;var X,K,ee,te;Q="rent"===(M&&M.propertyType||"")?null==M||null===(X=M.meta)||void 0===X||null===(K=X.polygon)||void 0===K?void 0:K.polygonOverviewUrl:null==M||null===(ee=M.details)||void 0===ee||null===(te=ee.localityInfo)||void 0===te?void 0:te.polygonOverviewUrl;const{navItemsRef:ne}=(0,r.useContext)(_.Z),[ie,ae]=(0,r.useState)(!1),{avgRating:re=""}=j||{},{avgRating:le=""}=q||{},se=Z&&G,[oe,ce]=(0,r.useState)(function getInitialActiveIndex(e,t,n){return e&&t?n?0:1:!e&&t?0:e&&!t?1:0}(Z,G,re)),_e=0===oe?j:q,de=0===oe?A:P,ge=(0,g.Z)(p.Z),ye=(0,r.useCallback)((()=>{ae(!1)}),[]);(0,r.useEffect)((()=>{if(F)return;const e=[];!G||D||Object.keys(j||{}).length||(e.push(L({linkedProjectId:v||y,formVersion:R.QH})),e.push(pe({}))),!Z||D||Object.keys(q||{}).length||e.push(N(B||null,"poly",R.QH)),!Z||D||Object.keys(P||{}).length||e.push(getFilteredLocalityReviews()),Promise.all(e).finally((()=>{i&&o(d)}))}),[]),(0,r.useEffect)((()=>{se&&ce(re&&!le?0:!re&&le?1:0)}),[re,le]);const getFilteredLocalityReviews=()=>V({entityId:B||null,entityType:"poly",size:D?R.PL:5,sortDirection:"desc",sortBy:"createdAt"}),pe=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={entityId:v||y,entityType:"region_entity_id",size:D?R.PL:5,sortDirection:"desc",sortBy:"createdAt"};return C({...t,...e})}),[]);if(i&&!w&&k)return l().createElement(c.Z,null);if(i&&!w)return null;const{totalCount:ue}=de||{},{avgRating:ve}=_e||{},me={url:`${f||S}/reviews`,...M},he="details"===z,fe=m.default,we=0===oe?f||S:Q,Te=G&&Z?!!re||!!le:ve;return l().createElement(l().Fragment,null,Te&&l().createElement("section",{className:(0,a.cx)(D?"":s.pb,$),ref:ne&&!!ne&&ne[d],id:T},!D&&l().createElement(fe,_extends({heading:O,subHeading:0===oe?h||t:Y,handleToggleButtonClick:ce,activeButtonIndex:oe,ratings:_e,reviews:de,isV2:se},{})),ve?l().createElement(s.b_,{isEmpty:!_e,isViewAllPage:D},l().createElement("div",null,U?l().createElement(x,{ratings:_e,reviews:de,isViewAllPage:D,track:ge,getFilteredReviews:pe,title:t,address:n,listingId:y,linkedProjectName:h,linkedProjectUrl:f}):l().createElement(l().Fragment,null,l().createElement(E,{ratings:_e,reviews:de,isViewAllPage:D,listingId:y,linkedProjectUrl:we+"/reviews",showAllCards:u,reviewType:0===oe?"project":"locality"}))),!1):l().createElement(l().Fragment,null,l().createElement(b,{buttonText:re?"View Project Reviews":"View Locality Reviews",noReviewsText:`No Reviews Yet! Explore ${re?"Project":"Locality"} Reviews Instead.`,reviewDedicatedUrl:(0===oe?Q:f||S)+"/reviews"})),ie&&l().createElement(I,{details:me,onClose:ye,source:"review",shareLinkText:"Checkout review for this project that I found on Housing.com - ",listingId:y,label:"Review",page:he?"PDP":null})))}));(0,i.Z)(s.vp)},29792:(e,t,n)=>{n.d(t,{$A:()=>R,$u:()=>d,A1:()=>S,Am:()=>L,Bb:()=>y,Ct:()=>C,E0:()=>A,GA:()=>E,It:()=>b,J5:()=>u,K8:()=>k,Mb:()=>j,NJ:()=>s,Oj:()=>$,Q5:()=>g,RJ:()=>T,Rc:()=>w,TR:()=>M,TS:()=>h,Vd:()=>x,WI:()=>Z,Y4:()=>v,aT:()=>P,ax:()=>I,b_:()=>p,bd:()=>W,eR:()=>B,fZ:()=>c,iI:()=>_,jn:()=>D,kP:()=>V,oJ:()=>O,pb:()=>l,pl:()=>f,qy:()=>z,sV:()=>m,vW:()=>o,vp:()=>Y,vx:()=>N,x$:()=>q,y9:()=>U});var i=n(96726),a=n(22419),r=n(89801);const l="_3f16wp _6hff14 _tawyo7ao T_6f513b03",s="_9s1txw _ar1bp4 _fc1h6o T_2a1e9686",o=(0,a.styled)("div")({name:"LocalityReviewContainer",class:"T_82a3537f _5j19bv _2d1byg _9sm59d _fc1sqm _0h1sqm _aa1oqza9 _gdnq1gy9 l19lpj38",vars:{qj5mye:[e=>{let{isCommercial:t}=e;return t?"#fff":void 0}],"11b99bw":[e=>{let{reviewAvailable:t}=e;return t?"block":"flex"}],b5hpu5:[e=>{let{reviewAvailable:t}=e;return t?"unset":"center"}],zrmx4l:[e=>{let{isV2:t}=e;return t?"unset":"#fff"}],"1s5mj1d":[e=>{let{isEmpty:t}=e;return t?"32px 16px 32px 32px":"unset"}]},atomic:!0}),c="_l81oj3 _5j1y44 _2d1994 _c81fwx _cs1nn1 _7lu67f _9jtlke _gdnq1b9s _1q73exct _1u71idpf _biqgftgi T_2b5955bd",_="_c81fwx _cs1nn1 _7l1sgi _1q73exct T_77c99b3f",d="_9s1txw _fc1yb4 _2du67f _5jftgi _l8exct _vyqklh T_cdfce0ba",g=(0,a.styled)("div")({name:"LocalityReviewCtaContainerStyle",class:"T_82a3537f _r317yj _h3ftgi _kbqmexct l1q95wo0",vars:{n2c76b:[e=>{let{ratings:t}=e;return t?"center":"left"}]},atomic:!0}),y="_261chg _h3exct _vy1mug _e21ylj _2w1dfr _2smgnk _2maqso _gq1vi7 _ft8msb0t _tcskzdsj T_01b58379",p=(0,a.styled)("div")({name:"ReviewContainer",class:"T_82a3537f _l8tktn _2du67f _le1nik _gdnqn7od _biqgg2xz r6ganvw",vars:{"11yqzbx":[e=>{let{isViewAllPage:t}=e;return t?"0 0 1px 0":"0"}],ni275g:[e=>{let{isCommercial:t}=e;return t?"12px;":""}],"1uozqg9":[e=>{let{isViewAllPage:t}=e;return t?"16px":"unset"}]},atomic:!0}),u="_c81fwx _cs1nn1 _g3exct _fr1ti3 _7ls3je _r31e5h _gqi2wt _tawygrho T_e2628f5f",v="_7ltvct _c8exct _csbfng _g31tcg _vy1dfd _ks15vq _vv1q9c _sq1l2s _ft8m1wug T_88084e28",m="_401yer _9s1txw _fc1yb4 _0h1h6o _leexct _lo13yo _h0exct _gzexct _r31e5h _h313zu _18qtdlk8 _1ll0exct _huuc1tcg _kf4f1tcg _8kgngrho _i8mpgrho _kbqmgrho T_0ceb3922",h="_2d1pec _r31h6o T_b1554a44",f="_2618mt _5jftgi _l8ftgi _7l1994 _9s1txw _e214e6 _0h1h6o _tcsk1tnn _gdnq1cj3 _biqg14y2 T_9378df3b",w="_csbfng _c8dlk8 _7l1qmd _h0yh40 _1q733bzg _4okucf5i T_f3f6bf63",T="_k4frkr _c8dlk8 _fryh40 _cs1nn1 _1q73qf25 _4okucf5i T_6d4caae1",b="_vy1osq _5j1i8o T_89c9f2d0",R="_h0i2wt _h3yh40 _8kgn1y44 _kbqm1192 T_8373298f",E="_mkstnw _tkrdoj _n3o7ao _wqkb7n _vydlk8 _e2dlk8 _9jtlke _cs8n31 _va5dglyw _lzn01buc _bof91jbn _1y0kdlk8 _1vbwdlk8 _1ti01ulh _fqzf198h _lyjp1h6o T_6d8cbdee",x="_261chg _h31vi7 _vyjijo _e2tudo _2w1dfr _2smgnk _2maqso _gq1vi7 _kbqm10yn _ft8msb0t _tcskzdsj _tawyo7ao T_209ee027",I="_9s1txw _0h1h6o _cx1v6z _17ee1fcq _1m2a1jbn _kbvg1nzy _m0miexct _157zni7l _h5h711ef T_980f43a1",k="_9s1txw _0h1h6o _cxw1gv _9jtlke _mkh2mm T_04dc4490",j="_26u67f _5j1vi7 _l8yh40 _3fznwg _9s116y _e2d6z3 T_a3776114",A="_261994 _5j1vi7 _7l1pec _l8tgkv _9jtlke _c81fwx _cs1nn1 _g3exct _fr1ti3 T_77927414",P="_7l1994 _c81fwx _cs1nn1 _g3exct _fr1ti3 _l8tgkv _9jtlke T_bcff9d61",q="_9s1txw _0h1h6o _cxftgi _h31y44 T_fc9ce4c0",C="_70e0bg _vy1bjc _e2bv7e _mkstnw _fqgrho _tkldb6 _wqcs5v _giidpf _l8zcog _5jyh40 T_65898616",L="_tk1l27 _fq1snh T_f9cd873b",N="_401yer _c8exct _csbfng _g3gktf _l8exct _r31e5h _gq183y T_384926b4",V="_r31h6o _lod6z3 _le183y _2d1pec _1ll01wpv _18qt189y T_a6fe21d3",O="_csbfng _c81fwx _g3exct _fr1ti3 _vynbzd _gixjk4 _7l1ulh T_ea4a2f71",D="_261qhq _5jftgi _csbfng _c8dlk8 _g3exct _7l1994 _4b1qhq _l81axw _h3gktf T_f3779931",S="_csbfng _c8exct _g3gktf T_928d15e9",$="_c81fwx _cs1nn1 _g3exct _fr1ti3 _r31e5h _h3yh40 T_2ab2e403",U="_vy12cx _e21vi7 _h31v6z _5jftgi _2d1hlh _3fglyw _bhusic T_af2c7def",z="_r31e5h _tk1peq _h0grho T_696d8eab",M="_h3grho _gqgrho _kbqmgrho _tawygrho T_bedaa214",W="_legrho T_cd228019",B="_vy35xw _e2omdn _gixjk4 _gq19bv T_cc7c5fe6",Y="_9sglyw T_edc19b38",Z="_9s1txw _fc1h6o T_f68e17ae";n(19184),(0,i.Z)(r.WP)},67044:(e,t,n)=>{n.d(t,{QV:()=>fetchEntityRatings,Yx:()=>fetchFilteredReviews,TK:()=>fetchMultiEntityRatings,Qd:()=>reviewsAction});var i=n(8487),a=n(55328),r=n.n(a);const l=i.P`
  query {
    multiUserDetails {
      name
      uuid
      image
      profile
    }
  }
`,s=i.P`
  query($entityId: String!, $entityType: String!, $formVersion: Int) {
    entityRatings(
      entityId: $entityId
      entityType: $entityType
      formVersion: $formVersion
    ) {
      avgRating
      goodPills
      negativePills
      ratingTypeDetails {
        avgRating
        ratingTypeId
        ratingTypeLabel
      }
      totalRatings
      ratingWiseCounts {
        one
        two
        three
        four
        five
      }
    }
  }
`,o=i.P`
  query($entityIds: [String], $entityType: String!) {
    multiEntityRatings(entityIds: $entityIds, entityType: $entityType) {
      entityId
      avgRating
      goodPills
      ratingTypeDetails {
        avgRating
        ratingTypeId
        ratingTypeLabel
      }
      totalRatings
      ratingWiseCounts {
        one
        two
        three
        four
        five
      }
    }
  }
`,c=i.P`
  query(
    $entityId: String!
    $entityType: String!
    $page: Int!
    $size: Int!
    $sortDirection: String
    $sortBy: String
    $ratings: Int
  ) {
    reviews(
      entityId: $entityId
      entityType: $entityType
      page: $page
      size: $size
      sortDirection: $sortDirection
      sortBy: $sortBy
      ratings: $ratings
    ) {
      totalCount
      reviewsData {
        avgRating
        postedAt
        postedBy
        testimonial
        reviewerName
        userCategory
        id
        needImprovementReview
        goodPills
        badPills
      }
    }
  }
`,fetchEntityRatings=e=>(t,n,i)=>{let{fetch:a}=i;const{entityId:r,entityType:l,formVersion:o}=e;return a({apiName:"ENTITY_RATINGS_API",cacheType:"stale",query:{query:s,variables:JSON.stringify({entityId:r,entityType:l,formVersion:o})}}).then((e=>{const{data:{data:{entityRatings:t}={}}={}}=e||{};return t})).catch((()=>{}))},fetchMultiEntityRatings=e=>(t,n,i)=>{let{fetch:a}=i;const{entityIds:r,entityType:l}=e;return a({apiName:"MULTI_ENTITY_RATINGS_API",cacheType:"stale",query:{query:o,variables:JSON.stringify({entityIds:r,entityType:l})}}).then((e=>{const{data:{data:{multiEntityRatings:t}={}}={}}=e||{};return t}))},reviewsAction=e=>{let{reviews:t,dispatch:n,type:i="polygon"}=e,{totalCount:a,reviewsData:r=[]}=t||{};r=r.map((e=>{let{reviewerName:t,...n}=e;return{...n,postedBy:t||"Anonymous"}}));const l={totalCount:a,reviewsData:r};n("polygon"===i?{type:"UPDATE_META_DATA",payload:{localityReviews:l}}:{type:"UPDATE_META_DATA",payload:{projectReviews:l}})},fetchFilteredReviews=e=>(t,n,i)=>{let{fetch:a}=i;return a({apiName:"ENTITY_REVIEWS_API",cacheType:"stale",query:{query:c,variables:JSON.stringify({page:0,...e})}}).then((e=>{const{data:{data:{reviews:n}={}}={}}=e||{};let{totalCount:i,reviewsData:a}=n||{};a=a||[];const s=[];a.forEach(((e,t)=>{let{postedBy:n,reviewerName:i}=e;null===i&&s.push(n),a[t].uuid=n,a[t].postedBy=i||"Anonymous"}));const o=[...s].join(",");return t((e=>(t,n,i)=>{let{fetch:a}=i;return a({query:{query:l,profileUuid:e,multiUser:!0},cacheType:"network-only",log:!1,withCredentials:!0,url:`${r().endPoints.gql}/auth`,apiName:"MULTI_USER_DETAILS_API"}).catch((e=>e)).then((function(){let{data:{data:{multiUserDetails:e}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}))})(o)).then((e=>{if(e){let t={};e.forEach((e=>{let{name:n,uuid:i}=e;t[i]=n||"Anonymous"})),addUserDetailsToReviews(t,a)}return{totalCount:i,reviewsData:a}}))})).catch((()=>{}))},addUserDetailsToReviews=(e,t)=>{t&&t.forEach((t=>{const n=e[t.uuid];n&&(t.postedBy=n.split(" ").map((e=>{let t=e;return e&&(t=e[0].toUpperCase()+e.substring(1)),t})).join(" "))}))}},25940:(e,t,n)=>{n.d(t,{OM:()=>fetchLocalityRatings,Uq:()=>ratingsAction,Xm:()=>fetchProjectRatings,Xw:()=>fetchProjectReviews,aZ:()=>fetchLocalityReviews});var i=n(67044);const fetchProjectReviews=e=>(t,n)=>new Promise((a=>{const{meta:{projectReviews:{reviewsData:r=[]}={}},routeParams:{params:{listingId:l}={}}={}}=n(),{entityId:s,isNextCall:o}=e;l||s?t((0,i.Yx)({entityId:l||s,...e})).then((e=>{const{reviewsData:n,totalCount:i}=e||{};t(o?{type:"UPDATE_META_DATA",payload:{projectReviews:{reviewsData:[...r,...n],totalCount:i}}}:{type:"UPDATE_META_DATA",payload:{projectReviews:e}}),a({reviews:e})})):a({reviews:[]})})),ratingsAction=e=>{let{ratings:t,type:n="polygon",dispatch:i}=e;i("polygon"===n?{type:"UPDATE_META_DATA",payload:{localityRatings:t}}:{type:"UPDATE_META_DATA",payload:{projectRatings:t}})},fetchProjectRatings=e=>(t,n)=>{let{linkedProjectId:a,entityType:r,formVersion:l}=e||{};return new Promise((e=>{const{routeParams:{params:{listingId:s}={}}={}}=n();s||a?t((0,i.QV)({entityId:a||s,entityType:r||"region_entity_id",formVersion:l||1})).then((n=>{ratingsAction({ratings:n,type:"project",dispatch:t}),e({ratings:n})})):e({ratings:void 0})}))},fetchLocalityReviews=e=>(t,n)=>new Promise((a=>{const{meta:{localityReviews:{reviewsData:r=[]}={}},routeParams:{params:{listingId:l}={}}={}}=n(),{entityId:s,isNextCall:o}=e;l||s?t((0,i.Yx)({entityId:l||s,...e})).then((e=>{const{reviewsData:n,totalCount:i}=e||{};t(o?{type:"UPDATE_META_DATA",payload:{localityReviews:{reviewsData:[...r,...n],totalCount:i}}}:{type:"UPDATE_META_DATA",payload:{localityReviews:e}}),a({reviews:e})})):a({reviews:[]})})),fetchLocalityRatings=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(a,r)=>new Promise((l=>{const{routeParams:{params:{listingId:s}={}}={}}=r();s||e?a((0,i.QV)({entityId:e||s,entityType:t||"region_entity_id",formVersion:n})).then((e=>{ratingsAction({ratings:e,type:"polygon",dispatch:a}),l({ratings:e})})):l({ratings:void 0})}))}},34851:(e,t,n)=>{n.d(t,{Z:()=>i});const i={WRITE_REVIEW:()=>({category:"Locality_Write_a_review",action:"click",localityEventLabel:"HOUSING_LOCALITY_OVERVIEW"}),LOCALITY_RATINGS_AND_REVIEWS_IMPRESSION:()=>({category:"Locality_R&R",action:"banner_seen",localityEventLabel:"HOUSING_LOCALITY_OVERVIEW"}),VIEW_ALL_CLICK:()=>({category:"Locality_view_all",action:"click",localityEventLabel:"HOUSING_LOCALITY_OVERVIEW"}),VIEW_ALL_REVIEW_TRIGGER_LOCALITY:()=>({category:"Locality_view_all_review_15secs_trigger",action:"review_impressions",localityEventLabel:"HOUSING_LOCALITY_OVERVIEW"}),REVIEW_TRIGGER_LOCALITY:()=>({category:"Locality_review_15secs_trigger",action:"review_impressions",localityEventLabel:"HOUSING_LOCALITY_OVERVIEW"}),WRITE_REVIEW_COLLECTION:()=>({category:"view_all",action:"Review_collection"})}},66494:(e,t,n)=>{n.d(t,{AX:()=>getColorCode,PL:()=>c,QH:()=>l,V:()=>o,Wf:()=>r,bB:()=>getVariant,jO:()=>i,j_:()=>a,kY:()=>s});const i=[{label:"All",val:null},{label:"5",val:5},{label:"4",val:4},{label:"3",val:3},{label:"2",val:2},{label:"1",val:1}],a=[{key:"recent",label:"Recent First"},{key:"positive",label:"Positive First"},{key:"negative",label:"Negative First"}],r={1:"connectivity",2:"neighbourhood",3:"safety",4:"livability",6:"cleanliness",7:"construction",8:"wfh",10:"amenities",9:"socialLife"},l=2,getColorCode=(e,t)=>{switch(!0){case e<=2.4:return`rgba(255, 153, 52, ${t?.1:1})`;case e>2.4&&e<=3.4:return`rgba(158, 194, 53, ${t?.1:1})`;case e>3.4&&e<=5:return`rgba(85, 214, 167, ${t?.1:1})`;default:return`rgba(255, 153, 52, ${t?.1:1})`}},getVariant=e=>{switch(!0){case e<=2.4:return"orange";case e>2.4&&e<=3.4:return"lightGreen";case e>3.4&&e<=5:return"darkGreen";default:return"default"}},s="good_review",o="bad_review",c=10},48234:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37900);const a=(0,i.createContext)({navItemsRef:[]})},57351:e=>{e.exports="//c.housingcdn.com/demand/s/client/common/assets/noRatingAndReviews.2d686217.png"}}]);