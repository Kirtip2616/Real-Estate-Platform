"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[3201],{76745:(e,t,r)=>{r.d(t,{z:()=>fetchDedicatedVideoShorts});var a=r(8487),s=r(1782),i=r(61823),o=r(21223);a.P`
  fragment PR on Property {
    streetInfo
    title
    subtitle
    url
    storiesVideoTemplate1Url
    storiesVideoTemplate2Url
    storiesVideoThumbnailUrl
    displayPrice {
      value
      displayValue
      unit
      deposit
    }
    coverImage {
      src
      alt
      videoUrl
    }
    isActiveProperty
    galleryTitle
    tracking
    imageCount
    propertyType
    address {
      address
      url
      detailedPropertyAddress {
        url
        val
      }
      distanceFromEntity
    }
    polygonsHash
    label
    badge
    listingId
    postedDate
    originalListingId
    promotions
    coords
    tags
    furnishingType
    builtUpArea {
      value
      unit
    }
    sellerCount
    meta
    details {
      sliceViewUrl
      images {
        images {
          src
          alt
          aspectRatio
        }
      }
      config {
        propertyConfig {
          key
          label
        }
      }
    }
  }
  fragment BS on User {
    name
    id
    image
    firmName
    url
    phone {
      partialValue
    }
    isPrime
    isPaid
    designation
  }
  query($city: CityInput, $hash: String, $filters: JSON) {
    videoStories(city: $city, hash: $hash, filters: $filters) {
      ...PR
      sellers {
        ...BS
      }
    }
  }
`;const l=a.P`
  fragment PR on Property {
    title
    subtitle
    url
    streetInfo
    storiesVideoTemplate1Url
    storiesVideoTemplate2Url
    storiesVideoThumbnailUrl
    videoStoriesHasAudio
    displayPrice {
      value
      displayValue
      unit
      deposit
    }
    coverImage {
      src
      alt
      videoUrl
    }
    isActiveProperty
    galleryTitle
    tracking
    imageCount
    propertyType
    address {
      address
      url
      detailedPropertyAddress {
        url
        val
      }
      distanceFromEntity
    }
    polygonsHash
    label
    badge
    listingId
    postedDate
    originalListingId
    promotions
    coords
    tags
    furnishingType
    builtUpArea {
      value
      unit
    }
    sellerCount
    meta
    details {
      sliceViewUrl
      images {
        images {
          src
          alt
          aspectRatio
        }
      }
      config {
        propertyConfig {
          key
          label
        }
      }
      averagePrice
      flatInfo {
        furnishingType
        occupants
        floor
        houseHelp
        parkingCount
        houseRules
        amenities {
          type
          label
          data
        }
      }
      possessionDate
      amenities {
        type
        label
        data
      }
      furnishings {
        type
        label
        data
      }
      propertyConfigs {
        id
        icon
        label
        description
        meta
        showOnMobile
        mobileLabel
        formattedDescription
      }
      formattedInventoryAmenities {
        key
        label
      }
    }
    insights {
      id
      value
    }
    features {
      label
      meta
      id
      description
      position
    }
    propertyTags
    inventoryAmenities
  }
  fragment BS on User {
    name
    id
    image
    firmName
    url
    phone {
      partialValue
    }
    isPrime
    isPaid
    designation
  }
  mutation($shortsInput: VideoShortsInput!) {
    videoShortsFilter(shortsInput: $shortsInput) {
      videoShorts {
        ...PR
        sellers {
          ...BS
        }
      }
      isLastPage
      total
    }
  }
`,fetchDedicatedVideoShorts=e=>{let{listingId:t,service:r,seenPropertyIds:a=[],videoProductType:n,poly:c,page:d=1,type:p="all",fromSrp:u,from:y,currentData:g=!1}=e;return(e,n,y)=>{let{fetch:h}=y;const{filters:{service:m,category:v,subCategory:f,selectedCity:{id:S},selectedCity:b}={},routeParams:{params:{hash:P,eventId:$}={}}={},meta:{videoShorts:{data:T=[]}={},videoShortsStories:{data:I=[]}={}}={},searchResults:A,event:{id:C}={}}=n(),{searchEntityDetails:E={}}=A||{},k=(0,s.Z)(m,v,f),_={seenPropertyIds:a,boostedPropertyId:t,poly:c||S,service:r||k,page:d,resultsPerPage:10,meta:{searchEntityDetails:E},city:b,filterService:m,filterCategory:v,hash:P,shortsEventid:C,eventId:$},[{entityAndFilters:{poly:[x]=[]}={}}]=P?(0,i.Z)((()=>(0,o.Z)(P)),{}):[{}];return u&&(_.poly=x||c,_.hash=P,_.filterService=m,_.filterCategory=v),"shorts"===p?_.videoProductType="image_video_shorts,dc_video_shorts":"stories"===p?(_.videoProductType="story_live_anchor,stories",_.resultsPerPage=50):_.videoProductType="story_live_anchor,stories,image_video_shorts,dc_video_shorts",h({controller:"GET_VIDEO_SHORTS_VIDEO",apiName:"GET_VIDEO_SHORTS_VIDEO",method:"post",body:{query:l,variables:{shortsInput:_}}}).then((t=>{let{data:{data:{videoShortsFilter:{videoShorts:r=[],isLastPage:a,total:s}={}}}={}}=t;if("shorts"===p){const t=[...T,...r];return e({type:"UPDATE_META_DATA",payload:{videoShorts:{data:t,isLastPage:a}}}),t}if("stories"===p)return e({type:"UPDATE_META_DATA",payload:{videoStories:r}}),r;{const t=[...I,...r];return e({type:"UPDATE_META_DATA",payload:{videoShortsStories:g?{data:r,isLastPage:a}:{data:[...t],isLastPage:a}}}),g?r:t}})).catch((e=>[]))}}},53820:(e,t,r)=>{r.d(t,{k:()=>fetchExtraCardsFallback});var a=r(1782),s=r(8487),i=r(18315),o=r(21223);const l=s.P`
  query(
    $pageInfo: PageInfoInput
    $city: CityInput
    $hash: String!
    $service: String!
    $category: String!
    $meta: JSON
    $bot: Boolean!
    $fltcnt: String
  ) {
    extraCards(
      hash: $hash
      service: $service
      category: $category
      city: $city
      pageInfo: $pageInfo
      meta: $meta
      fltcnt: $fltcnt
      bot: $bot
    )
  }
`;function fetchExtraCards(e,t){let{cardName:r,name:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(s,n,c)=>{var d;let{fetch:p}=c;if(!["buy","rent"].includes(t))return Promise.resolve();let{searchResults:u,cookies:{organicOrDirectTraffic:y}={},routeParams:{params:{hash:g}={}}={},meta:{searchExtraCards:h={},fallbackExtraCards:m={}}}=n();if(!["buy","rent"].includes(t))return Promise.resolve();null!=m&&m.name&&(null==m||delete m.name),s({type:"UPDATE_META_DATA",payload:{fallbackExtraCards:{...m||{}}}});const v=`${t}-${g}`,{searchEntityDetails:f={}}=u||{};if(h&&h.uniqueKey===v&&!r)return Promise.resolve();const{filters:{type:S}={}}=(0,o.Z)(g)||{},b={...e.meta,searchEntityDetails:f,organicOrDirectTraffic:y};r&&(b.key=r);const P={page:null==e||null===(d=e.pageInfo)||void 0===d?void 0:d.page,size:20};return p({apiName:i.gi,query:{query:l,variables:JSON.stringify({...e,meta:b,pageInfo:P})}}).then((e=>{let{data:{data:{extraCards:t}={}}={}}=e;var i,o;if(r)return s({type:"UPDATE_META_DATA",payload:{fallbackExtraCards:{...m||{},[a]:null==t||null===(i=t[0])||void 0===i?void 0:i.data}}}),null==t||null===(o=t[0])||void 0===o?void 0:o.data;s({type:"UPDATE_META_DATA",payload:{searchExtraCards:{cards:t,uniqueKey:v},fallbackExtraCards:{}}})})).catch((e=>[]))}}var n=r(65827),c=r(78175);const fetchNearLocalities=function(){return(e,t)=>{let{routeParams:{params:{hash:r}}}=t();if(!r)return Promise.resolve();const{entities:a=[]}=(0,n.Z)({hash:r});return e((0,c.H)({entities:a})).then((t=>(e({type:"UPDATE_META_DATA",payload:{nearbyLocalities:t}}),t)))}};var d=r(49843);s.P`
  query($service: String!, $category: String, $city: CityInput!) {
    popularLocalities(service: $service, category: $category, city: $city) {
      name
      id
      overviewPageUrl
      growthRate
      price {
        displayValue
        unit
      }
      center
    }
  }
`;const fetchPopularLocalitiesPriceTrends=()=>(e,t)=>{let{filters:{selectedCity:r,service:a}={}}=t();return e((0,d.aj)({featureType:"popular",cityUuid:null==r?void 0:r.id,service:a,overviewUrlRequired:!0})).then((function(){let{data:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e({type:"UPDATE_META_DATA",payload:{popularLocalities:t}}),t})).catch((e=>{throw e}))};var p=r(18801);const u={default:58,serp:60,serpRhs:61,home:59,dedicated:62},y=s.P`
  query(
    $placeholderId: Int
    $poly: String
    $slotId: Int
    $domain: Int
    $service: String
    $source: String
  ) {
    allianceDetails(
      placeholderId: $placeholderId
      poly: $poly
      slotId: $slotId
      domain: $domain
      service: $service
      source: $source
    ) {
      error
      hooks {
        slotId
        template
        offers
        offer
        title
        subtitle
        adSlotPosition
        cta
        heroImage
        brandImage
        brandUrl
        brandUrlLabel
        brandName
        bannerImage
        terms
        url
      }
    }
  }
`,fetchAllianceData=(e,t,r)=>(a,s,i)=>{let{fetch:o}=i;const{filters:{selectedCity:{id:l,cityId:n},entities:c},shell:{useragent:{isMobile:d}}}=s();return o({apiName:"ALLIANCES_API",query:{query:y,variables:JSON.stringify({placeholderId:u[e]||58,poly:(0,p.Z)({pageTypeMajor:"SRP",entities:c,id:l,cityId:n}),limit:t,service:r||"rent",source:d?"mobile":"web"})}}).catch((e=>e)).then((r=>{if(!r||!r.data||!r.data.data)return;try{var s=r.data.data.error,i=r.data.data.allianceDetails}catch(e){i=[]}let o;return s&&s.msg&&Promise.reject(s),t?i instanceof Array?o=i.slice(0,t):i&&i.hooks instanceof Array?(o=i,o.hooks=o.hooks.slice(0,t)):o=i:o=i,a({type:"SET_ALLIANCES_DATA",payload:{[e]:o}}),i}))},g=s.P`
  query(
    $entities: [RealEstateEntityInput!]
    $filters: JSON
    $meta: JSON
    $count: Int
    $service: String
    $category: String
    $saleType: String
  ) {
    fixedAdSlot(
      entities: $entities
      filters: $filters
      meta: $meta
      count: $count
      service: $service
      category: $category
      saleType: $saleType
    ) {
      listingId
      title
      url
      brands {
        name
      }
      address {
        address
      }
      promotions
      subtitle
      displayPrice {
        displayValue
        value
      }
      coverImage {
        src
      }
      propertyType
      sellers {
        name
        id
        designation
        phone {
          partialValue
        }
      }
      details {
        config {
          propertyConfig {
            key
            label
          }
        }
      }
      description {
        overview
      }
      features {
        label
        description
        id
      }
    }
  }
`,getFixedAdSlotData=function(){let{entities:e,hash:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r,s,i)=>{let{fetch:l}=i,{filters:{service:c,category:d,[(0,a.Z)(c,d)]:p={},selectedCity:u},seo:{pageTypeMajor:y}={}}=s();const{filters:{type:h}={}}=(0,o.Z)(t)||{};if(!(e&&e.length||t))return Promise.resolve();if(e){const{backEndFilters:t}=(0,n.Z)({entities:e});p=t}else{const{entities:r,backEndFilters:a}=(0,n.Z)({hash:t});e=r,p=a}if(e.length&&["polygon","project","resale","rent"].indexOf(e[0].type)<0)return Promise.resolve();delete p.poly;const m=(0,a.Z)(c,d);let v;return v="details"===y&&"rent"!==m?2:1,l({apiName:"FIXED_AD_SLOT_API",cacheType:"stale",query:{query:g,variables:JSON.stringify({entities:e,filters:p,meta:{city:u,pageTypeMajor:y},count:v,service:c,saleType:h,category:d})}}).then((function(){let{data:{data:{fixedAdSlot:e=[]}={}}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e&&e.length>0?e:void 0;return r({type:"UPDATE_META_DATA",payload:{fixedAdData:t}}),t})).catch((()=>[]))}};var h=r(61235),m=r(76745);const getFiltersMeta=e=>{let{routeParams:{query:{listingId:t,dc_uuid:r}={},params:{product:a,type:s=a,listingId:i=t}}}=e();return["project","projects","resale","rent"].includes(s)?{[`qv_${"projects"===s?"project":s}_id`]:i}:{...r&&{city_select_uuid:r}}},getFeaturedProperties=(e,t)=>e.reduce(((e,r)=>{const a=r.properties.map((e=>{let{id:r}=e;return t[r]}));switch(r.type){case"showcase":case"upper-showcase":e.upperShowCase=a;break;case"lower-showcase":e.lowerShowCase=a}return e}),{}),fetchExtraCardsFallback=function(){let{cardName:e,name:t,limit:r,maintainPosition:s,type:i,seenPropertyIds:o,from:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(s,n)=>{var c,d;let p,{filters:{selectedCity:u,pageInfo:{page:y=1}={},service:g,category:v},routeParams:{query:{page:f=y,event:S,slot_id:b,explain:P,fltcnt:$="",filter:T=""},path:I,params:{hash:A}={}}={},searchResults:{data:C,promotedProperties:E}={}}=n();const k=(0,a.Z)(g,v),_=["buy","rent"].includes(k);let x={hash:A,service:g,category:v,city:u,pageInfo:{page:f,size:20},meta:{event:S,slotId:b,filterMeta:getFiltersMeta(n),explain:P,url:I,pagination_flow:!1,enableExperimentalFlag:!1},bot:!1,fltcnt:$,isRent:"rent"===k,isLandmarkSearchActive:_,interestLedFilter:T};switch(t){case"nearbyLocalitiesLandmark":p=await s(fetchNearLocalities());break;case"popularLocalitiesLandmark":p=await s(fetchPopularLocalitiesPriceTrends());break;case"housingStories":p=await s((0,m.z)({type:"stories"})),p&&null!==(c=p)&&void 0!==c&&c.length||(p=null);break;case"housingShorts":p=await s((0,m.z)({type:i,seenPropertyIds:o,from:l})),p&&null!==(d=p)&&void 0!==d&&d.length||(p=null);break;case"searchAlliances":const e=await s(fetchAllianceData("serp",r,g)),{hooks:t}=e||{};p=t;break;case"fixedAdSlot":p=await s(getFixedAdSlotData({hash:A}));break;case"upperShowCase":const{upperShowCase:a}=getFeaturedProperties(E,C);p=a;break;case"lowerShowCase":const{lowerShowCase:n}=getFeaturedProperties(E,C);p=n;break;case"recommendedSellers":p=await s((0,h.default)()),(p.expertBrokersData||p.expertProBrokersData)&&(p.pagination=!0)}return t&&e&&!p?(p=await s(fetchExtraCards(x,k,{cardName:e,name:t})),p):p}}},78175:(e,t,r)=>{r.d(t,{H:()=>fetchNearByPolyTrends});const a=r(8487).P`
  query(
    $poly: String!
    $service: String
    $count: Int
    $inventoryCountRequired: Boolean
    $page: String
  ) {
    nearByLocalityTrends(
      poly: $poly
      service: $service
      count: $count
      inventoryCountRequired: $inventoryCountRequired
      page: $page
    ) {
      name
      id
      parentId
      distance
      growthRate
      priceTrendsUrl
      url
      overviewPageUrl
      price {
        displayValue
        unit
        value
      }
      rent
      resaleCount
      links {
        url
        label
      }
    }
  }
`,fetchNearByPolyTrends=e=>{let{entities:t,poly:r,inventoryCountRequired:s=!1,page:i=""}=e;return(e,o,l)=>{var n,c;let{fetch:d}=l,{filters:{entities:p,service:u}={},searchResults:{searchEntityDetails:y}={}}=o();const{name:g,type:h,polygon:m}=y||{},{id:v}=m||{};return p=t||p||[],p="landmark"===h?[{name:g,id:v}]:p,(p||[]).filter((e=>{let{type:t}=e;return"polygon"!==t}))&&(r||null!==(n=p[0])&&void 0!==n&&n.id)?d({apiName:"NEAR_BY_POLY_PRICE_TRENDS",query:{query:a,variables:JSON.stringify({poly:r||(null===(c=p[0])||void 0===c?void 0:c.id),service:u,count:5,inventoryCountRequired:s,page:i})}}).then((function(){let{data:{data:{nearByLocalityTrends:e=[]}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).catch((()=>[])):(e({type:"UPDATE_META_DATA",payload:{nearbyLocalities:[]}}),Promise.resolve())}}},3201:(e,t,r)=>{r.d(t,{default:()=>d});var a=r(42788),s=r(37900),i=r(79317),o=r(57265),l=r(38260),n=r(13001),c=r(53820);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}const d=(0,s.forwardRef)(((e,t)=>{let{children:r,title:d,subtitle:p,card:u,style:y,data:g=[],itemKey:h,options:{identifierId:m,slidesToShow:v=2,centerMode:f=!1,isMobile:S=!1,freeScroll:b=!1,leftArrowStyle:P="",rightArrowStyle:$="",src:T="",imageStyle:I,showNewHeading:A=!1}={},carouselStyle:C,carouselTitleStyle:E,carouselContentStyle:k,previousTemplate:_,nextTemplate:x,slideContainerStyle:D,onClick:w=(()=>{}),placement:N,onCarouselScrollClick:L=(()=>{}),onChangeSelection:R,selectedValues:U,showGroupCta:q,sellerContacts:M,SeeMoreSection:O,name:j,cardName:V,...B}=e;const Z=A?"div":"h3",[F,H]=(0,s.useState)(g),J=(0,i.useDispatch)();return(0,s.useEffect)((()=>{null!=g&&g.length||!j||!V||J((0,c.k)({name:j,cardName:V})).then((e=>{null!=e&&e.length&&H(e)}))}),[]),(0,a.jsx)("section",{css:(0,a.css)([l.sU,C],""),className:"carousel-style","data-q":h},(0,a.jsx)("header",null,T&&(0,a.jsx)(n.Z,{src:T,alt:"icons",style:I}),d&&(0,a.jsx)(Z,{css:(0,a.css)([l.E3,E],""),className:"title"},d),p&&(0,a.jsx)("h3",{css:l.ZS,className:"subtitle"},p)),(0,a.jsx)("div",{css:(0,a.css)([l.lx,k],""),className:"section-content"},(0,a.jsx)(o.default,{identifierId:m,slidesToShow:v,slidesToScroll:1,startSlide:0,centerMode:f,isMobile:S,freeScroll:b,previousTemplate:P&&(0,o.x)(P)||(0,a.jsx)("div",{css:l.Hk,className:"prev-btn"}),nextTemplate:$&&(0,o.$)($)||(0,a.jsx)("div",{css:l.jq,className:"nxt-btn"}),ref:t,style:D,placement:N,onCarouselScrollClick:L,SeeMoreSection:O},F.map(((e,t)=>(0,a.jsx)(u,_extends({style:y,key:t,data:e},B,{index:t,onClick:e=>{w(e,t)},placement:N,onChangeSelection:R,selectedValues:U,sellerContacts:M,showGroupCta:q})))))),r)}))},61235:(e,t,r)=>{r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(8487),s=r(1782);const i=a.P`
  fragment BS on User {
    id
    name
    firmName
    firmImage
    image
    url
    agentDescription: description @include(if: $agent)
    description @skip(if: $agent)
    localities {
      name
    }
    stats {
      label
      description
    }
    type
    designation
    sellerBadge
    isCertifiedAgent
    sellerPropertiesInfo {
      minPrice
      maxPrice
      bhkInfo
      experience
      totalProperties
    }
  }
  query(
    $city: CityInput
    $hash: String
    $service: String!
    $category: String!
    $agent: Boolean!
    $meta: JSON
    $fallback: FallbackInput
  ) {
    recommendedSellers(
      city: $city
      hash: $hash
      service: $service
      category: $category
      meta: $meta
      fallback: $fallback
    ) {
      experts {
        cursor
        isLastPage
        brokers {
          ...BS
        }
      }
      expertPro {
        cursor
        isLastPage
        brokers {
          ...BS
        }
      }
    }
  }
`,__WEBPACK_DEFAULT_EXPORT__=(e,t)=>(r,a,o)=>{let{fetch:l}=o;const{filters:{selectedCity:n,service:c,category:d,subCategory:p}={},shell:{newRendering:u},routeParams:{params:{hash:y}={}}={},meta:{recommendedSellers:{experts:{page:g=1,cursor:h,isLastPage:m,brokers:v=[]}={},expertPro:{page:f=1,cursor:S,isLastPage:b,brokers:P=[]}={}}={}}={}}=a(),$=(0,s.Z)(c,d,p),T=!!e;if(m&&b&&t)return Promise.resolve();const[I,A]=t?[1,1]:[0,0],[C,E]=[m?1:parseInt(g)+I,b?1:parseInt(f)+A],k=!m||!t,_=!b||!t;return l({apiName:"FETCH_RECOMMENDED_SELLERS",controller:"FETCH_RECOMMENDED_SELLERS",query:{query:i,variables:JSON.stringify({city:n,hash:y,service:c,category:d,agent:T,meta:{expertPage:C,expertProPage:E,expertCursor:h,expertProCursor:S,loadExpert:k,loadExpertPro:_},...u&&["buy","rent"].includes($)&&{fallback:{entityId:n.cityId,componentName:"recommended_sellers",pageType:"home"}}})}}).then((e=>{const{data:{data:{recommendedSellers:{experts:a,expertPro:s,experts:{brokers:i=[]}={},expertPro:{brokers:o=[]}={}}={}}={}}}=e||{},l=t?[...v,...i]:i,n=t?[...P,...o]:o;return r({type:"UPDATE_META_DATA",payload:{recommendedSellers:{experts:{...a,page:C,brokers:l},expertPro:{...s,page:E,brokers:n}}}}),{expertBrokersData:l,expertProBrokersData:n}})).catch((()=>{}))}},18801:(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=e=>{let t,{pageTypeMajor:r,entities:a,id:s,cityId:i}=e;switch(r){case"SRP":t=((e,t,r)=>{var a;return null==e||null===(a=e.reduce((function(e){let{id:a,type:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"polygon"===s&&(a===r?e.push(t):e.push(a)),e}),[]))||void 0===a?void 0:a.join()})(a,s,i);break;case"home":t=s;break;case"details":t=((e,t)=>{var r;return`${null==e||null===(r=e[0])||void 0===r?void 0:r.id},${t}`})(a,s);break;default:t=s}return t?t.includes(s)?t:`${t},${s}`:s}}}]);